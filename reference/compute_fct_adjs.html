<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='There often are situations where an industry table is used for an assumed
rate due to a company lacking sufficient credibility to write their own
assumption. However, as experience becomes more available, a company would
likely want to incorporate this experience into the industry assumption
because it provides valuable insight into their own policyholders. A common
industry approach is to apply "factor adjustments" developed using company
experience to the industry assumption.'><title>Calculate adjustment factors for an underlying assumption — compute_fct_adjs • expstudy</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate adjustment factors for an underlying assumption — compute_fct_adjs"><meta property="og:description" content='There often are situations where an industry table is used for an assumed
rate due to a company lacking sufficient credibility to write their own
assumption. However, as experience becomes more available, a company would
likely want to incorporate this experience into the industry assumption
because it provides valuable insight into their own policyholders. A common
industry approach is to apply "factor adjustments" developed using company
experience to the industry assumption.'><meta property="og:image" content="https://cb12991.github.io/expstudy/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">expstudy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/cb12991/expstudy/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate adjustment factors for an underlying assumption</h1>
      <small class="dont-index">Source: <a href="https://github.com/cb12991/expstudy/blob/HEAD/R/compute_fct_adjs.R" class="external-link"><code>R/compute_fct_adjs.R</code></a></small>
      <div class="d-none name"><code>compute_fct_adjs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>There often are situations where an industry table is used for an assumed
rate due to a company lacking sufficient credibility to write their own
assumption. However, as experience becomes more available, a company would
likely want to incorporate this experience into the industry assumption
because it provides valuable insight into their own policyholders. A common
industry approach is to apply "factor adjustments" developed using company
experience to the industry assumption.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compute_fct_adjs</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  <span class="va">expected_rate</span>,</span>
<span>  measure_sets <span class="op">=</span> <span class="fu"><a href="guess_measure_sets.html">guess_measure_sets</a></span><span class="op">(</span><span class="va">.data</span><span class="op">)</span>,</span>
<span>  amount_scalar <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"simultaneous"</span>, <span class="st">"sequential"</span><span class="op">)</span>,</span>
<span>  cred_wt_adjs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  balance_adjs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.data</dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">base::data.frame()</a></code> that houses an experience study.</p></dd>


<dt>expected_rate</dt>
<dd><p>The underlying expected rate in the experience study for which factor
adjustments are being generated for.</p></dd>


<dt>measure_sets</dt>
<dd><p>A (potentially named) list of measure sets. Only need to specify once if
chaining multiple <code>expstudy</code> functions as the <code>measure_sets</code> will be
passed as an attribute in results.</p></dd>


<dt>amount_scalar</dt>
<dd><p>A numeric vector to use when determining amount-weighted expecteds and
variances. The function will determine whether or not the new
expecteds/variances are amount-weighted if the corresponding actuals in
the study have values greater than 1 (actuals that are not
amount-weighted, i.e., counts, should only be 0 or 1).</p></dd>


<dt>method</dt>
<dd><p>String indicating the method of determining factor adjustments:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> <span class="st">`</span><span class="at">simultaneous</span><span class="st">`</span> will calculate factor adjustments <span class="cf">for</span> all combinations</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>of group values <span class="cf">in</span> one iteration.</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> <span class="st">`</span><span class="at">sequential</span><span class="st">`</span> will calculate factor adjustments <span class="cf">for</span> each grouping</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>variable individually and applies that factor adjustment to the</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>underlying expected rate before continuing with the <span class="cf">next</span> grouping</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>variable<span class="st">'s factor computation.</span></span></code></pre><p></p></div></dd>


<dt>cred_wt_adjs</dt>
<dd><p>Logical indicating if factor adjustments should be credibility-weighted
using partial credibility scores.</p></dd>


<dt>balance_adjs</dt>
<dd><p>Logical indicating if credibility-weighted adjustments should be scaled to
produce a 100% A/E ratio in aggregate (has no effect if
<code>cred_wt_adjs = FALSE</code>).</p></dd>


<dt>na.rm</dt>
<dd><p>logical.  Should missing values (including <code>NaN</code>) be
    removed?</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list of data frames that house factor adjustments for each measure set
provided in <code>measure_sets</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function piggy-backs off of <code>measure_sets</code> defined in other expstudy
functions to quickly produce factor adjustments under a variety of methods.
Providing a <code><a href="https://dplyr.tidyverse.org/reference/grouped_df.html" class="external-link">dplyr::grouped_df()</a></code> will generate factors for each group
according to the method specified. If two or more grouping variables are
provided, an additional "composite" factor adjustment will also be generated
which is the product of each individual adjustment.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">mortexp</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">GENDER</span>,</span></span>
<span class="r-in"><span>    <span class="va">SMOKING_STATUS</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">compute_fct_adjs</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">EXPECTED_MORTALITY_RT</span>,</span></span>
<span class="r-in"><span>    amount_scalar <span class="op">=</span> <span class="va">FACE_AMOUNT</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $CNT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SMOKING_STATUS GENDER GENDER_FCT_ADJ SMOKING_STATUS_FCT_ADJ COMPOSITE_FCT_ADJ</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     NON-SMOKER FEMALE       1.271511              1.0194734          1.296272</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     NON-SMOKER   MALE       1.193514              1.0194734          1.216755</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         SMOKER FEMALE       1.271511              0.9515988          1.209968</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         SMOKER   MALE       1.193514              0.9515988          1.135746</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $AMT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SMOKING_STATUS GENDER GENDER_FCT_ADJ SMOKING_STATUS_FCT_ADJ COMPOSITE_FCT_ADJ</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     NON-SMOKER FEMALE       1.307949               0.998288          1.305710</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     NON-SMOKER   MALE       1.129454               0.998288          1.127520</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         SMOKER FEMALE       1.307949               1.004059          1.313259</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         SMOKER   MALE       1.129454               1.004059          1.134039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Cody Buehler.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

